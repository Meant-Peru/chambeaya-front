{"ast":null,"code":"import _objectSpread from\"/Users/harold/projects/Meant/chambeaya_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from'@reduxjs/toolkit';import{getLocalStorage}from'../../helpers/localStorage';import{USER}from'../../helpers/constants';var userNull={rol:'',id:'',dataUser:{}};var persistedUser=getLocalStorage(USER);var initialState={loadingLogin:false,status:'checking',token:null,errorMessage:'',user:persistedUser};var authSlice=createSlice({name:'authSlice',initialState:initialState,reducers:{signIn:function signIn(state,_ref){var payload=_ref.payload;return _objectSpread(_objectSpread({},state),{},{errorMessage:'',status:'authenticated',token:payload.token,user:payload.user});},addError:function addError(state,action){return _objectSpread(_objectSpread({},state),{},{user:userNull,status:'not-authenticated',token:null,errorMessage:action.payload,loadingLogin:false});},removeError:function removeError(state){return _objectSpread(_objectSpread({},state),{},{errorMessage:'',loadingLogin:false});},notAuthenticated:function notAuthenticated(state){return _objectSpread(_objectSpread({},state),{},{status:'not-authenticated',token:null,user:userNull,loadingLogin:false});},logout:function logout(state){return _objectSpread(_objectSpread({},state),{},{status:'not-authenticated',token:null,user:userNull});},changeLoginLoading:function changeLoginLoading(state){return _objectSpread(_objectSpread({},state),{},{loadingLogin:true});}}});var _authSlice$actions=authSlice.actions,signIn=_authSlice$actions.signIn,addError=_authSlice$actions.addError,notAuthenticated=_authSlice$actions.notAuthenticated,removeError=_authSlice$actions.removeError,logout=_authSlice$actions.logout,changeLoginLoading=_authSlice$actions.changeLoginLoading;export{signIn,addError,notAuthenticated,removeError,logout,changeLoginLoading};export default authSlice.reducer;","map":{"version":3,"sources":["/Users/harold/projects/Meant/chambeaya_frontend/src/redux/slices/authSlice.ts"],"names":["createSlice","getLocalStorage","USER","userNull","rol","id","dataUser","persistedUser","initialState","loadingLogin","status","token","errorMessage","user","authSlice","name","reducers","signIn","state","payload","addError","action","removeError","notAuthenticated","logout","changeLoginLoading","actions","reducer"],"mappings":"oIAAA,OAASA,WAAT,KAA2C,kBAA3C,CACA,OAASC,eAAT,KAAgC,4BAAhC,CACA,OAASC,IAAT,KAAqB,yBAArB,CAWA,GAAMC,CAAAA,QAAsB,CAAG,CAC9BC,GAAG,CAAE,EADyB,CAE9BC,EAAE,CAAE,EAF0B,CAG9BC,QAAQ,CAAE,EAHoB,CAA/B,CAKA,GAAMC,CAAAA,aAAa,CAAGN,eAAe,CAACC,IAAD,CAArC,CAEA,GAAMM,CAAAA,YAAuB,CAAG,CAC/BC,YAAY,CAAE,KADiB,CAE/BC,MAAM,CAAE,UAFuB,CAG/BC,KAAK,CAAE,IAHwB,CAI/BC,YAAY,CAAE,EAJiB,CAK/BC,IAAI,CAAEN,aALyB,CAAhC,CAQA,GAAMO,CAAAA,SAAS,CAAGd,WAAW,CAAC,CAC7Be,IAAI,CAAE,WADuB,CAE7BP,YAAY,CAAZA,YAF6B,CAG7BQ,QAAQ,CAAE,CACTC,MAAM,CAAE,gBAACC,KAAD,MAA4C,IAAlCC,CAAAA,OAAkC,MAAlCA,OAAkC,CACnD,sCACID,KADJ,MAECN,YAAY,CAAE,EAFf,CAGCF,MAAM,CAAE,eAHT,CAICC,KAAK,CAAEQ,OAAO,CAACR,KAJhB,CAKCE,IAAI,CAAEM,OAAO,CAACN,IALf,GAOA,CATQ,CAUTO,QAAQ,CAAE,kBAACF,KAAD,CAAQG,MAAR,CAAmB,CAC5B,sCACIH,KADJ,MAECL,IAAI,CAAEV,QAFP,CAGCO,MAAM,CAAE,mBAHT,CAICC,KAAK,CAAE,IAJR,CAKCC,YAAY,CAAES,MAAM,CAACF,OALtB,CAMCV,YAAY,CAAE,KANf,GAQA,CAnBQ,CAoBTa,WAAW,CAAE,qBAACJ,KAAD,CAAW,CACvB,sCACIA,KADJ,MAECN,YAAY,CAAE,EAFf,CAGCH,YAAY,CAAE,KAHf,GAKA,CA1BQ,CA2BTc,gBAAgB,CAAE,0BAACL,KAAD,CAAW,CAC5B,sCACIA,KADJ,MAECR,MAAM,CAAE,mBAFT,CAGCC,KAAK,CAAE,IAHR,CAICE,IAAI,CAAEV,QAJP,CAKCM,YAAY,CAAE,KALf,GAOA,CAnCQ,CAoCTe,MAAM,CAAE,gBAACN,KAAD,CAAW,CAClB,sCACIA,KADJ,MAECR,MAAM,CAAE,mBAFT,CAGCC,KAAK,CAAE,IAHR,CAICE,IAAI,CAAEV,QAJP,GAMA,CA3CQ,CA4CTsB,kBAAkB,CAAE,4BAACP,KAAD,CAAW,CAC9B,sCACIA,KADJ,MAECT,YAAY,CAAE,IAFf,GAIA,CAjDQ,CAHmB,CAAD,CAA7B,CAwDO,uBAAwFK,SAAS,CAACY,OAAlG,CAAQT,MAAR,oBAAQA,MAAR,CAAgBG,QAAhB,oBAAgBA,QAAhB,CAA0BG,gBAA1B,oBAA0BA,gBAA1B,CAA4CD,WAA5C,oBAA4CA,WAA5C,CAAyDE,MAAzD,oBAAyDA,MAAzD,CAAiEC,kBAAjE,oBAAiEA,kBAAjE,C,+EAEP,cAAeX,CAAAA,SAAS,CAACa,OAAzB","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { getLocalStorage } from '../../helpers/localStorage';\nimport { USER } from '../../helpers/constants';\nimport { UserGenerico } from '../../interfaces/User';\n\ninterface AuthState {\n\tloadingLogin: boolean;\n\tstatus: 'checking' | 'authenticated' | 'not-authenticated';\n\ttoken: string | null;\n\terrorMessage: string | null;\n\tuser: any;\n}\n\nconst userNull: UserGenerico = {\n\trol: '',\n\tid: '',\n\tdataUser: {},\n};\nconst persistedUser = getLocalStorage(USER);\n\nconst initialState: AuthState = {\n\tloadingLogin: false,\n\tstatus: 'checking',\n\ttoken: null,\n\terrorMessage: '',\n\tuser: persistedUser,\n};\n\nconst authSlice = createSlice({\n\tname: 'authSlice',\n\tinitialState,\n\treducers: {\n\t\tsignIn: (state, { payload }: PayloadAction<any>) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terrorMessage: '',\n\t\t\t\tstatus: 'authenticated',\n\t\t\t\ttoken: payload.token,\n\t\t\t\tuser: payload.user,\n\t\t\t};\n\t\t},\n\t\taddError: (state, action) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser: userNull,\n\t\t\t\tstatus: 'not-authenticated',\n\t\t\t\ttoken: null,\n\t\t\t\terrorMessage: action.payload,\n\t\t\t\tloadingLogin: false,\n\t\t\t};\n\t\t},\n\t\tremoveError: (state) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terrorMessage: '',\n\t\t\t\tloadingLogin: false,\n\t\t\t};\n\t\t},\n\t\tnotAuthenticated: (state) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: 'not-authenticated',\n\t\t\t\ttoken: null,\n\t\t\t\tuser: userNull,\n\t\t\t\tloadingLogin: false,\n\t\t\t};\n\t\t},\n\t\tlogout: (state) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: 'not-authenticated',\n\t\t\t\ttoken: null,\n\t\t\t\tuser: userNull,\n\t\t\t};\n\t\t},\n\t\tchangeLoginLoading: (state) => {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloadingLogin: true,\n\t\t\t};\n\t\t},\n\t},\n});\n\nexport const { signIn, addError, notAuthenticated, removeError, logout, changeLoginLoading } = authSlice.actions;\n\nexport default authSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}